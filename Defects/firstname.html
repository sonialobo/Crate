<!DOCTYPE html>
<!-- saved from url=(0060)http://uat.thecrate.co.nz/Account/AddNewAccount?isAdmin=true -->
<html style="" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths k-webkit k-webkit59"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">.pac-container{background-color:#fff;position:absolute!important;z-index:1000;border-radius:2px;border-top:1px solid #d9d9d9;font-family:Arial,sans-serif;box-shadow:0 2px 6px rgba(0,0,0,0.3);-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.pac-logo:after{content:"";padding:1px 1px 1px 0;height:16px;text-align:right;display:block;background-image:url(https://maps.gstatic.com/mapfiles/api-3/images/powered-by-google-on-white3.png);background-position:right;background-repeat:no-repeat;background-size:120px 14px}.hdpi.pac-logo:after{background-image:url(https://maps.gstatic.com/mapfiles/api-3/images/powered-by-google-on-white3_hdpi.png)}.pac-item{cursor:default;padding:0 4px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;line-height:30px;text-align:left;border-top:1px solid #e6e6e6;font-size:11px;color:#999}.pac-item:hover{background-color:#fafafa}.pac-item-selected,.pac-item-selected:hover{background-color:#ebf2fe}.pac-matched{font-weight:700}.pac-item-query{font-size:13px;padding-right:3px;color:#000}.pac-icon{width:15px;height:20px;margin-right:7px;margin-top:6px;display:inline-block;vertical-align:top;background-image:url(https://maps.gstatic.com/mapfiles/api-3/images/autocomplete-icons.png);background-size:34px}.hdpi .pac-icon{background-image:url(https://maps.gstatic.com/mapfiles/api-3/images/autocomplete-icons_hdpi.png)}.pac-icon-search{background-position:-1px -1px}.pac-item-selected .pac-icon-search{background-position:-18px -1px}.pac-icon-marker{background-position:-1px -161px}.pac-item-selected .pac-icon-marker{background-position:-18px -161px}.pac-placeholder{color:gray}</style>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="./fistname_files/css" rel="stylesheet" type="text/css">
    <title>Create User Account - The Crate</title>
   
    <link href="./fistname_files/css(1)" rel="stylesheet" type="text/css">

    <script src="./fistname_files/jquery-1.10.2.min.js.download"></script>
    
    
    
    
   
   
    

   
    


    <script src="./fistname_files/modernizr-2.6.2.js.download"></script>

    
    
    <script src="./fistname_files/jquery.validate.js.download"></script>
<script src="./fistname_files/jquery.validate.unobtrusive.js.download"></script>

    
    <link href="./fistname_files/app.css" rel="stylesheet">
<link href="./fistname_files/foundation.min.css" rel="stylesheet">

    <link href="./fistname_files/site.css" rel="stylesheet">

    <script src="./fistname_files/foundation.min.js.download"></script>

    
    
    <script src="./fistname_files/beehive-lib.js.download"></script>

    
    <link href="./fistname_files/foundation-icons.css" rel="stylesheet">
    

    <script src="./fistname_files/beehive-lib.js.download"></script>
    <script src="./fistname_files/jquery.signalR-2.2.0.js.download"></script>
    <script src="./fistname_files/knockout-3.4.0.js.download"></script>
    <script src="./fistname_files/knockout.mapping-latest.js.download"></script>
    <script src="./fistname_files/hubs"></script>
    
    <script src="./fistname_files/notification.js.download"></script>
    
    

    <link href="./fistname_files/kendo.custom.min.css" rel="stylesheet">
<link href="./fistname_files/kendo.common.min.css" rel="stylesheet">

    <script src="./fistname_files/kendo.all.min.js.download"></script>

   
<meta class="foundation-mq"><script type="text/javascript" charset="UTF-8" src="./fistname_files/common.js.download"></script><script type="text/javascript" charset="UTF-8" src="./fistname_files/util.js.download"></script><script type="text/javascript" charset="UTF-8" src="./fistname_files/controls.js.download"></script><script type="text/javascript" charset="UTF-8" src="./fistname_files/places_impl.js.download"></script><script type="text/javascript" charset="UTF-8" src="./fistname_files/stats.js.download"></script></head>
<body>
    <div class="top-bar" id="top-bar-menu">
        <div class="top-bar-left">
            <ul class="menu">
                <li class="menu-text">
                    <img id="our-company-logo" src="./fistname_files/The Crate logo V2_8de6ce67-f91f-4bac-a8fa-57ebde0bea3e_a386b83c-d634-477a-973b-231b3e8db47c.png" class="navbar-brand">
                </li>              
                <li>
                    <ul class="dropdown menu float-right" data-dropdown-menu="gs3wlr-dropdown-menu" data-options="" role="menubar">

                        <li role="menuitem"><a href="http://uat.thecrate.co.nz/" tabindex="0">Dashboard</a></li>
                    </ul>
                </li>             
                <li><a href="http://uat.thecrate.co.nz/Booking">Room booking</a></li>
                <li><a href="http://uat.thecrate.co.nz/Asset/LiveAssetReport">Report Issue</a></li>           

                    <li>                       
                        <a href="http://uat.thecrate.co.nz/Notification">Message</a>
                    </li>
                    <li>
                        <ul class="dropdown menu float-right" data-dropdown-menu="2fmq88-dropdown-menu" data-options="" role="menubar">
                            <li role="menuitem" class="has-submenu is-dropdown-submenu-parent is-down-arrow" aria-haspopup="true" aria-selected="false" aria-expanded="false" aria-label="Admin" data-is-click="false">
                                <a href="http://uat.thecrate.co.nz/Account/AddNewAccount?isAdmin=true#" tabindex="0">Admin</a>
                                <ul class="menu vertical submenu is-dropdown-submenu first-sub" data-submenu="" aria-hidden="true" role="menu">
                                    <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a href="http://uat.thecrate.co.nz/Admin">Settings</a></li>
                                    <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a href="http://uat.thecrate.co.nz/Account">Accounts</a></li>
                                    <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a href="http://uat.thecrate.co.nz/Account/Company">Companies</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>

                    <li>
                        <ul class="dropdown menu float-right" data-dropdown-menu="08h52e-dropdown-menu" data-options="" role="menubar">
                            <li role="menuitem" class="has-submenu is-dropdown-submenu-parent is-down-arrow" aria-haspopup="true" aria-selected="false" aria-expanded="false" aria-label="About">
                                <a href="http://uat.thecrate.co.nz/Account/AddNewAccount?isAdmin=true#" tabindex="0">About</a>
                                <ul class="menu submenu is-dropdown-submenu first-sub vertical" data-submenu="" aria-hidden="true" role="menu">
                                    <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a href="http://uat.thecrate.co.nz/FAQs/Tutorial">Tutorial</a></li>
                                    <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a href="http://uat.thecrate.co.nz/FAQs">FAQs</a></li>

                                        <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a href="http://uat.thecrate.co.nz/FAQs/Questions">FAQs Management</a></li>


                                </ul>
                            </li>
                        </ul>
                    </li>
            </ul>

        </div>
        <div class="top-bar-right">
            <ul class="dropdown menu" data-dropdown-menu="14m7cs-dropdown-menu" data-options="hover : false;" role="menubar">
                <li role="menuitem" class="has-submenu is-dropdown-submenu-parent is-down-arrow" aria-haspopup="true" aria-selected="false" aria-expanded="false" aria-label="">
                    

                    <div style="position: relative; cursor: pointer;"><i class="fi-mail"></i><div id="new-msg-count" data-bind="visible: $root.getNewMsgCount() &gt; 0, text: $root.getNewMsgCount()" style="display: none;">0</div></div>
                    <ul id="notification-dropdown" class="top-bar-notifications submenu is-dropdown-submenu first-sub vertical" text:="" $root.getmsgcount()="" data-submenu="" aria-hidden="true" role="menu">

                        <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a id="read-all" href="http://uat.thecrate.co.nz/Account/AddNewAccount?isAdmin=true#" tabindex="0"><span data-bind="click: $root.markAllRead">Mark All as Read</span></a></li>
                        
                            
                        <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item">
                            <div style="height: 365px;">
                                <table data-bind="foreach: paginated">
                                    <tbody><tr>
                                        <td id="MsgTitle" data-bind="text: Title,
                                                            css:{ NewMsg: !IsRead()},
                                                            click: $root.goToMsg">test nipu crate</td>
                                        <td data-bind="click: $root.deleteMsg" class="fi-trash" style="float: right"></td>
                                    </tr>


                                </tbody></table>
                            </div>
                            

                            <div data-bind="if: !$root.getMsgCount() &gt; 0"></div>
                        </li>

                        <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item">
                            <div align="center">
                                <button type="button" class="button pager" data-bind="click: previous, enable: hasPrevious" disabled=""> &lt; </button>
                                <span data-bind="text: $root.pageNumber" class="pagenum" style="padding-left: 10px; padding-right: 10px;">1</span>
                                <button type="button" class="button pager" data-bind="click: next, enable: hasNext" disabled=""> &gt; </button>
                            </div>
                            
                        </li>
                    </ul>
                </li>
                <li role="menuitem" class="has-submenu is-dropdown-submenu-parent is-down-arrow opens-right" aria-haspopup="true" aria-selected="false" aria-expanded="false" aria-label="
        Hi Sonia  
    " data-is-click="false">
    <a href="http://uat.thecrate.co.nz/Account/AddNewAccount?isAdmin=true#">
        Hi Sonia  <span class="caret"></span>
    </a>
    <ul class="menu vertical top-bar-logout submenu is-dropdown-submenu first-sub" data-submenu="" aria-hidden="true" role="menu">
        <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a style="" href="javascript:document.getElementById(&#39;logoutForm&#39;).submit()"><span class="glyphicon glyphicon-off"></span> Log Out</a></li>
    </ul>
<form action="http://uat.thecrate.co.nz/Account/LogOff" id="logoutForm" method="post"><input name="__RequestVerificationToken" type="hidden" value="MI-9B7UQ4bIXwW4YnhHx_rnmOnTLE54N7Ntc02MK-WdfPtIoNLYy_UEbDdQKxWbQWDAaZIxInpUER9ylFxAYrUpbjpXr9V-IUHnJotNdahlVT87HpnNO5G31UOW2MKzC0"></form>
                </li>
            </ul>
        </div>
        <div class="reveal" id="MsgModel" data-reveal="qzbhne-reveal" role="dialog" aria-hidden="true" data-yeti-box="MsgModel" data-resize="MsgModel">
            <div data-bind="with: chosenMsgData, css: { viewMsg: true }" class="viewMsg"></div>

            <button class="close-button" data-close="" aria-label="Close modal" type="button">
                <span aria-hidden="true">×</span>
            </button>
        </div>
    </div>

        <div class="row body-content">
            

<script type="text/javascript" src="./fistname_files/js">

</script>

<div class="container" id="add-new-useraccount-container">
    <h4>Create User Account</h4>
    <hr>
<form action="http://uat.thecrate.co.nz/Account/AddNewAccount" data-bind="submit: validateAndSave" id="add-new-account-form" method="post" novalidate="novalidate"><input data-val="true" data-val-number="The field UserId must be a number." data-val-required="The UserId field is required." id="UserId" name="UserId" type="hidden" value="0">        <div class="row">
            <label class="control-label small-4 columns">Company</label>
            <div class="small-8 columns">
                <select class="form-control valid" data-bind="value: User.CompanyName" data-val="true" data-val-number="The field CompanyName must be a number." data-val-required="The CompanyName field is required." id="CompanyName" name="CompanyName" placeholder="Company Name"><option value="">-- Select Company --</option>
<option value="143">ACompany</option>
<option value="157">newcompany77</option>
<option value="178">EvilTesting</option>
<option value="190">Jumbo</option>
<option value="196">CPBP inc.</option>
<option value="201">TestCompanyy</option>
<option value="212">TestCompanytt</option>
<option value="215">The crate</option>
<option value="216">infotech</option>
<option value="217">Krazy Korporation Inkorporated</option>
<option value="219">AA company</option>
<option value="226">GoodTesting</option>
</select>
                <span class="text-danger field-validation-valid" data-valmsg-for="CompanyName" data-valmsg-replace="true"></span>
        </div>
        </div>
        <div class="row">
            <label class="small-4 columns">First Name</label>
            <div class="small-8 columns">
                <input class="form-control input-validation-error" data-bind="value: User.FirstName" data-val="true" data-val-regex="Your first name is invalid" data-val-regex-pattern="^[A-Z]+[a-zA-Z&#39;&#39;-&#39;\s]*$" data-val-required="First name is required" id="FirstName" name="FirstName" placeholder="First Name" type="text" value="">
                <span class="text-danger field-validation-error" data-valmsg-for="FirstName" data-valmsg-replace="true"><span for="FirstName" class="">Your first name is invalid</span></span>
            </div>
        </div>
        <div class="row">
            <label class="control-label small-4 columns">Last Name</label>
            <div class="small-8 columns">
                <input class="form-control valid" data-bind="value: User.LastName" data-val="true" data-val-regex="Your last name is invalid" data-val-regex-pattern="^[A-Z]+[a-zA-Z&#39;&#39;-&#39;\s]*$" data-val-required="Last name is required" id="LastName" name="LastName" placeholder="Last Name" type="text" value="">
                <span class="text-danger field-validation-valid" data-valmsg-for="LastName" data-valmsg-replace="true"></span>
            </div>
        </div>
        <div class="row">
            <label class="small-4 columns">Email Address</label>
            <div class="small-8 columns">
                <input class="form-control valid" data-bind="value: User.EmailAddress" data-val="true" data-val-email="The Email Address field is not a valid e-mail address." data-val-required="The Email Address field is required." id="EmailAddress" name="EmailAddress" placeholder="Email Address" type="text" value="">
                <span class="text-danger field-validation-valid" data-valmsg-for="EmailAddress" data-valmsg-replace="true"></span>
            </div>
        </div>
        <div class="row">
            <div class="small-4 columns">
                <label>Gender</label>
            </div>
            
            <div class="small-8 columns">
                <span class="radio-buttons-form">
                <input class="gender valid" data-val="true" data-val-number="The field Gender must be a number." data-val-required="The Gender field is required." id="male" name="GenderId" type="radio" value="22">Male           
                <input class="gender valid" id="female" name="GenderId" type="radio" value="23">Female
                <span class="field-validation-valid" data-valmsg-for="GenderId" data-valmsg-replace="true"></span>
                </span>
            </div>

        </div>
        <div class="row">
            <label class="small-4 columns">Mobile</label>
            <div class="small-8 columns">
                <input class="form-control valid" data-bind="value: User.Mobile" data-val="true" data-val-regex="Entered phone format is not valid." data-val-regex-pattern="^\(?([0-9]{3,4})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$" data-val-required="Phone Number Required!" id="Mobile" name="Mobile" placeholder="Mobile" type="text" value="">
                <span class="text-danger field-validation-valid" data-valmsg-for="Mobile" data-valmsg-replace="true"></span>
            </div>
        </div>
        <div class="row">
            <label class="small-4 columns"> Administrator </label>
            <div class="small-8 columns">
                <input class="form-control valid" data-bind="checked: User.SysAdmin" data-val="true" data-val-required="The SysAdmin field is required." id="SysAdmin" name="SysAdmin" type="checkbox" value="true"><input name="SysAdmin" type="hidden" value="false">
            </div>
        </div>
        <div data-bind="visible:isCreating">
            <hr>
            <div class="row">
                <label class="small-4 columns">Password</label>
                <div class="small-8 columns">
                    <input class="form-control input-validation-error" data-bind="value: User.Password" data-val="true" data-val-length="The Password must be at least 6 characters long." data-val-length-max="100" data-val-length-min="6" data-val-required="The Password field is required." id="Password" name="Password" placeholder="Password" type="password">
                    <span class="text-danger field-validation-error" data-valmsg-for="Password" data-valmsg-replace="true"><span for="Password" class="">The Password field is required.</span></span>
                </div>
            </div>
            <div class="row">
                <label class="small-4 columns">Confirm Password</label>
                <div class="small-8 columns">
                    <input class="form-control valid" data-bind="value: User.ConfirmPassword" data-val="true" data-val-equalto="The password and confirmation password do not match." data-val-equalto-other="*.Password" id="ConfirmPassword" name="ConfirmPassword" placeholder="Confirm Password" type="password">
                    <span class="text-danger field-validation-valid" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                </div>
            </div>
        </div>
        <hr>
        <div class="row">
            <label class="small-4 columns"> Google Address Finder </label>
            <div class="small-8 columns">
                <div id="locationField">
                    <input id="autocomplete" class="form-control" placeholder="Start typing your address..." onfocus="geolocate()" type="text" style="width: 80%" autocomplete="off">
                </div>
            </div>
        </div>
        <div class="row">
            <label class="small-4 columns">Street Number</label>
            <div class="small-8 columns">
                <input class="form-control input-validation-error" data-bind="value: User.UserAddressNumber" data-val="true" data-val-regex="The StreetNumber should be only numbers" data-val-regex-pattern="^[0-9]*$" data-val-required="Company is required" id="UserAddressNumber" name="UserAddressNumber" placeholder="Street Number" type="text" value="">
                <span class="text-danger field-validation-error" data-valmsg-for="UserAddressNumber" data-valmsg-replace="true"><span for="UserAddressNumber" class="">Company is required</span></span>
            </div>
        </div>
        <div class="row">
            <label class="small-4 columns"> Street Name </label>
            <div class="small-8 columns">
                <input class="form-control input-validation-error" data-bind="value: User.UserAddress" data-val="true" data-val-regex="The StreetName is invalid" data-val-regex-pattern="^[A-Z]+[a-zA-Z&#39;&#39;-&#39;\s]*$" data-val-required="The UserAddress field is required." id="UserAddress" name="UserAddress" placeholder="Street Address" type="text" value="">
                <span class="text-danger field-validation-error" data-valmsg-for="UserAddress" data-valmsg-replace="true"><span for="UserAddress" class="">The UserAddress field is required.</span></span>
            </div>
        </div>
        <div class="row">
            <label class="small-4 columns"> Suburb </label>
            <div class="small-8 columns">
                <input class="form-control input-validation-error" data-bind="value: User.UserSuburb" data-val="true" data-val-regex="The Suburb is invalid" data-val-regex-pattern="^[A-Z]+[a-zA-Z&#39;&#39;-&#39;\s]*$" data-val-required="The UserSuburb field is required." id="UserSuburb" name="UserSuburb" placeholder="Suburb" type="text" value="">
                <span class="text-danger field-validation-error" data-valmsg-for="UserSuburb" data-valmsg-replace="true"><span for="UserSuburb" class="">The UserSuburb field is required.</span></span>
            </div>
        </div>
        <div class="row">
                <label class="small-4 columns"> City </label>
                <div class="small-8 columns">
                    <input class="form-control input-validation-error" data-bind="value: User.UserCity" data-val="true" data-val-regex="The City is invalid" data-val-regex-pattern="^[A-Z]+[a-zA-Z&#39;&#39;-&#39;\s]*$" data-val-required="The UserCity field is required." id="UserCity" name="UserCity" placeholder="City" type="text" value="">
                    <span class="text-danger field-validation-error" data-valmsg-for="UserCity" data-valmsg-replace="true"><span for="UserCity" class="">The UserCity field is required.</span></span>
            </div>
        </div>
        <div class="row">
                <label class="small-4 columns"> Postcode </label>
                <div class="small-8 columns">
                    <input class="form-control valid" data-bind="value: User.UserPostCode" data-val="true" data-val-regex="The Postcode should be only numbers" data-val-regex-pattern="^[0-9]*$" id="UserPostCode" name="UserPostCode" placeholder="Postcode" type="text" value="">
                    <span class="text-danger field-validation-valid" data-valmsg-for="UserPostCode" data-valmsg-replace="true"></span>
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="small-12 columns">
                <input type="submit" value="Create" class="button primary">
            </div>
                
        </div>
</form></div>

<script>




    $(document).ready(function () {

        $(window).keydown(function (event) {
            if (event.keyCode == 15) {
                event.preventDefault();
                return false;
            }
        });

        function UserAccountFormViewModel(User) {
            var self = this;
            self.isCreating = User.UserId == 0;

            self.User = {
                UserId:User.UserId,
                CompanyName: ko.observable(User.CompanyName),
                FirstName: ko.observable(User.FirstName),
                LastName: ko.observable(User.LastName),
                //GenderId: ko.observable(User.GenderId),
                EmailAddress: ko.observable(User.EmailAddress),
                Mobile: ko.observable(User.Mobile),
                Password: ko.observable(User.Password),
                ConfirmPassword: ko.observable(User.ConfirmPassword),
                UserAddressNumber: ko.observable(User.UserAddressNumber),
                UserAddress: ko.observable(User.UserAddress),
                UserSuburb: ko.observable(User.UserSuburb),
                UserCity: ko.observable(User.UserCity),
                UserPostCode: ko.observable(User.UserPostCode),
                SysAdmin: ko.observable(User.SysAdmin)
            };
          

            self.validateAndSave = function (form) {
                if (! $(form). valid())
                 return false;
                if (document.getElementById('male').checked) {
                    self.User.GenderId = ko.observable(22)
                } else if (document.getElementById('female').checked) {
                    self.User.GenderId = ko.observable(23)
                }
                else {
                    alert("Please choose your gender")
                }
                $.ajax({
                    url: (self.isCreating) ? '/Account/AddNewAccount?isAdmin=True' : '/Account/EditUser',
                    type: 'post',
                    dataType:"json",
                    contentType: 'application/json',
                    data: ko.toJSON(self.User),
                    success: function (data) {
                    if (data.Success) {
                        if (self.isCreating)
                            alert("New User created successfully");
                        else
                            alert("User has been updated successfully");
                        location.href = "/Account";

                    } else {
                        alert(data.Message);
                    }
                },
                error: function (data) {
                    alert("Error occurred!");
                },
                })

        };
    }

        viewModel = new UserAccountFormViewModel({"UserId":0,"Username":null,"Password":null,"ConfirmPassword":null,"EmailAddress":null,"GenderId":null,"Mobile":null,"FirstName":null,"LastName":null,"ContactNumber":null,"CompanyName":0,"UserAddressNumber":null,"UserAddress":null,"UserSuburb":null,"UserCity":null,"UserPostCode":null,"SysAdmin":false});
    ko.applyBindings(viewModel, document.getElementById("add-new-useraccount-container"));
    });


</script>
<script>
    /* Google Places Autocomplete */
    var placeSearch, autocomplete;
    var componentForm = {
        street_number: 'short_name',
        route: 'long_name',
        sublocality_level_1: 'long_name',
        locality: 'long_name',
        //country: 'long_name',
        postal_code: 'short_name'
    };
    var addrFields = {
        street_number: "UserAddressNumber",
        route: "UserAddress",
        sublocality_level_1: "UserSuburb",
        locality: "UserCity",
        //country: "UserCountry",
        postal_code: "UserPostCode",
    };



    function initialize() {
        // Create the autocomplete object, restricting the search
        // to geographical location types.
        autocomplete = new google.maps.places.Autocomplete(
            /** type {HTMLInputElement} */
            (document.getElementById('autocomplete')),
            { types: ['geocode'] });
        // When the user selects an address from the dropdown,
        // populate the address fields in the form.
        google.maps.event.addListener(autocomplete, 'place_changed', function () {
            fillInAddress();
            findFlatNumber();

        });


    }
    google.maps.event.addDomListener(window, 'load', initialize);

    // [START region_fillform]
    function fillInAddress() {
        // Get the place details from the autocomplete object.
        var place;


        place = autocomplete.getPlace();
        //for (var addrField in addrFields) {
            viewModel.User.UserAddressNumber("");
            viewModel.User.UserAddress("");
            viewModel.User.UserCity("");
            viewModel.User.UserSuburb("");
            viewModel.User.UserPostCode("");
            //document.getElementById(addrFields[addrField]).value = '';
            //document.getElementById(addrFields[addrField]).disabled = false;
        //}



        // Get each component of the address from the place details
        // and fill the corresponding field on the form.
        for (var i = 0; i < place.address_components.length; i++) {
            var addressType = place.address_components[i].types[0];

            if (componentForm[addressType]) {

                var val = place.address_components[i][componentForm[addressType]];
                switch (addrFields[addressType]) {
                    case "UserAddressNumber":
                        viewModel.User.UserAddressNumber(val);
                        break;
                    case "UserAddress":
                        viewModel.User.UserAddress(val);
                        break;
                    case "UserCity":
                        viewModel.User.UserCity(val);
                        break;
                    case "UserSuburb":
                        viewModel.User.UserSuburb(val);
                        break;
                    case "UserPostCode":
                        viewModel.User.UserPostCode(val);
                        break;
                }
                //document.getElementById(addrFields[addressType]).value = val;

            }
        }
    }
    // [END region_fillform]

    // [START region_geolocation]
    // Bias the autocomplete object to the user's geographical location,
    // as supplied by the browser's 'navigator.geolocation' object.
    function geolocate() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
                var geolocation = new google.maps.LatLng(
                    position.coords.latitude, position.coords.longitude);
                autocomplete.setBounds(new google.maps.LatLngBounds(geolocation,
                    geolocation));
            });
        }
    }
    // [END region_geolocation]

    function findFlatNumber() {
        var searchString = document.getElementById('autocomplete').value;
        var streetNum = document.getElementById('UserAddressNumber').value;
        if (streetNum.match(/\S/)) {
            var indexOfstreet = searchString.indexOf(streetNum);
            var unitAdd = searchString.substring(0, indexOfstreet);
            viewModel.User.UserAddressNumber(unitAdd + streetNum);
            //document.getElementById('UserAddressNumber').value = unitAdd + streetNum;
            return true;
        }
    }
</script>
<style>
    #add-new-account-form {
        margin-top: 25px;
    }
    .gender {
        margin-left:1px;
    }

    #CompanyName {
        max-width: 285px;
    }
</style>
        </div>
    <footer>
        <div class="row">
            <div class="small-12 columns">
                <hr>
                


<section>

    <div class="row">

                    <article class="large-3 medium-6 thumbBlock column">
                        <a href="http://890%26%26%26/" target="_blank"><img src="./fistname_files/daisy-beautiful-beauty_92c16a52-ec9f-4aee-9705-e13f06d575af.jpg" alt="http://890&amp;&amp;&amp;" style="max-width: 200px; max-height: 55px;"></a>
                    </article>
                    <article class="large-3 medium-6 thumbBlock column">
                        <a href="http://newcompany11.com/" target="_blank"><img src="./fistname_files/Imagefile_af628543-1eef-4fb8-9b32-64a1a64dcec7.jpeg" alt="http://newcompany11.com" style="max-width: 200px; max-height: 55px;"></a>
                    </article>
                    <article class="large-3 medium-6 thumbBlock column">
                        <a href="http://google.cm/" target="_blank"><img src="./fistname_files/1_2e5e61c8-2712-408c-8036-d0beaaaef618.jpg" alt="http://google.cm" style="max-width: 200px; max-height: 55px;"></a>
                    </article>
                    <article class="large-3 medium-6 thumbBlock column">
                        <a href="http://fake.cpbp.co.fake/" target="_blank"><img src="./fistname_files/custom mcdonalds burger_fcc4b3a4-3564-4801-8edc-c10b9b0ccb24.png" alt="http://fake.cpbp.co.fake" style="max-width: 200px; max-height: 55px;"></a>
                    </article>
                    <article class="large-3 medium-6 thumbBlock column">
                        <a href="http://0.0.0.45/" target="_blank"><img src="./fistname_files/asset_1041e349-0eb1-492b-ae19-d65e8eecb9ec.JPG" alt="http://45" style="max-width: 200px; max-height: 55px;"></a>
                    </article>

    </div>
</section>

                <br>
            </div>
        </div>



        <p class="row" style="padding:0 15px">© 2017 - Powered by <a href="http://www.centralstationsoftware.co.nz/" target="_blank">Central Station Software</a></p>
    </footer>



    <script src="./fistname_files/kendo.culture.en-NZ.min.js.download"></script>
    <script>
        $(document).foundation();
        $(document).ready(function () {
            kendo.culture("en-NZ");
            //added by Billy
            
            //---------------------------------------

        });
        alert = beehive.alert;

            $.fn.serializeObject = function () {
                var o = {};
                var a = this.serializeArray();
                $.each(a, function () {
                    if (o[this.name] !== undefined) {
                        if (!o[this.name].push) {
                            o[this.name] = [o[this.name]];
                        }
                        o[this.name].push(this.value || '');
                    }
                    else {
                        o[this.name] = this.value || '';
                    }
                });
                return o;
            };
    </script><div class="reveal-overlay" tabindex="-1" aria-hidden="true" data-close="MsgModel"></div>
    <style>
        /* add by Po for #1936 */
        .fi-mail {
            color: darkgrey;
            font-size: 1.5em;
            border: 3px solid transparent;
        }

        #notification-dropdown {
            margin: 0;
            max-height: 500px;
            padding: 10px;
            max-height: 500px;
            overflow-y: auto;
            overflow-x: hidden;
        }

            #notification-no-message li,
            #notification-dropdown li {
                list-style: none;
                width: 400px;
                padding: 0;
                margin: 0;
            }

            #notification-dropdown > li:first-child {
                text-align: right;
            }

            #notification-dropdown #read-all {
                padding-right: 10px;
            }

            #notification-dropdown > li > table {
                width: 390px;
                padding: 10px;
            }

                #notification-dropdown > li > table > tr {
                    line-height: 2em;
                }

        #read-all {
            color: cornflowerblue;
        }

        #notification-no-message {
            padding: 10px;
            position: absolute;
            left: -100px;
            min-width: 110px;
            margin: 0;
            background: #fff;
        }

            #notification-no-message li {
                width: 80px;
                margin: 0;
                text-align: center;
            }

        #new-msg-count {
            position: absolute;
            left: 10px;
            top: 0px;
            width: 22px;
            height: 22px;
            background-color: #cf0c0c;
            border: 2px solid #fff;
            color: #fff;
            border-radius: 6px;
            /* Safari 3-4, iOS 1-3.2, Android 1.6- */
            -webkit-border-radius: 6px;
            /* Firefox 1-3.6 */
            -moz-border-radius: 6px;
            line-height: 20px;
            text-align: center;
            font-size: 0.5em;
            padding: 0;
            vertical-align: middle;
            margin: 0;
            z-index: 999;
        }

        #MsgModel {
            position: fixed;
            top: 100px !important;
            margin-top: 0;
        }

        

        .viewMsg {
            padding-top: 1.5em;
        }

        .viewMsg_MsgInfo {
            background-color: #dae0e8;
            padding: 0.5em;
            border-radius: 5px;
        }

        .viewMsg_MsgInfo_P {
            margin-bottom: 0.5em;
        }

        .viewMsg_Label {
            color: #777;
            font-weight: bold;
            min-width: 2.75em;
            text-align: right;
            display: inline-block;
        }

        .viewMsg_Message {
            padding: 1em 0.5em 1em;
        }

        .NewMsg {
            font-weight: bold;
        }

            .NewMsg:after {
                content: "New";
                color: #fff;
                background-color: #cf0c0c;
                font-size: 0.6em;
                line-height: 1em;
                vertical-align: top;
                padding: 4px;
                display: inline-block;
                border-radius: 4px;
                margin-left: 4px;
            }

        #MsgTitle,
        .fi-trash {
            cursor: pointer;
        }

        .MsgPage
        {
            background-color: #EEEEEE;
            padding: 3px 25px;
            text-align: center;
            font-size: 18px;
            border-radius: 4px;
        }

        .MsgPage:disabled
        {
            opacity: 0.4;
        }

        .fi-trash {
            color: darkgray;
        }

        /* Change color of dropdown links on hover */
.dropdown-content a:hover {background-color: #000;
                           color:#fff;
}

/* Show the dropdown menu on hover */
.dropdown:hover .dropdown-content {
    display: block;
}
.is-down-arrow a {
    padding-right: 1.5rem;
    position: relative; }
 .is-down-arrow > a::after {
    content: '';
    display: block;
    width: 0;
    height: 0;
    border: inset 5px;
    border-color: #fff transparent transparent;
    border-top-style: solid;
    border-bottom-width: 0;
    position: absolute;
    top: 0.825rem;
    right: 5px; }

    </style>


<span style="border-radius: 3px; text-indent: 20px; width: auto; padding: 0px 4px 0px 0px; text-align: center; font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 11px; line-height: 20px; font-family: &quot;Helvetica Neue&quot;, Helvetica, sans-serif; color: rgb(255, 255, 255); background: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzBweCIgd2lkdGg9IjMwcHgiIHZpZXdCb3g9Ii0xIC0xIDMxIDMxIj48Zz48cGF0aCBkPSJNMjkuNDQ5LDE0LjY2MiBDMjkuNDQ5LDIyLjcyMiAyMi44NjgsMjkuMjU2IDE0Ljc1LDI5LjI1NiBDNi42MzIsMjkuMjU2IDAuMDUxLDIyLjcyMiAwLjA1MSwxNC42NjIgQzAuMDUxLDYuNjAxIDYuNjMyLDAuMDY3IDE0Ljc1LDAuMDY3IEMyMi44NjgsMC4wNjcgMjkuNDQ5LDYuNjAxIDI5LjQ0OSwxNC42NjIiIGZpbGw9IiNmZmYiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIj48L3BhdGg+PHBhdGggZD0iTTE0LjczMywxLjY4NiBDNy41MTYsMS42ODYgMS42NjUsNy40OTUgMS42NjUsMTQuNjYyIEMxLjY2NSwyMC4xNTkgNS4xMDksMjQuODU0IDkuOTcsMjYuNzQ0IEM5Ljg1NiwyNS43MTggOS43NTMsMjQuMTQzIDEwLjAxNiwyMy4wMjIgQzEwLjI1MywyMi4wMSAxMS41NDgsMTYuNTcyIDExLjU0OCwxNi41NzIgQzExLjU0OCwxNi41NzIgMTEuMTU3LDE1Ljc5NSAxMS4xNTcsMTQuNjQ2IEMxMS4xNTcsMTIuODQyIDEyLjIxMSwxMS40OTUgMTMuNTIyLDExLjQ5NSBDMTQuNjM3LDExLjQ5NSAxNS4xNzUsMTIuMzI2IDE1LjE3NSwxMy4zMjMgQzE1LjE3NSwxNC40MzYgMTQuNDYyLDE2LjEgMTQuMDkzLDE3LjY0MyBDMTMuNzg1LDE4LjkzNSAxNC43NDUsMTkuOTg4IDE2LjAyOCwxOS45ODggQzE4LjM1MSwxOS45ODggMjAuMTM2LDE3LjU1NiAyMC4xMzYsMTQuMDQ2IEMyMC4xMzYsMTAuOTM5IDE3Ljg4OCw4Ljc2NyAxNC42NzgsOC43NjcgQzEwLjk1OSw4Ljc2NyA4Ljc3NywxMS41MzYgOC43NzcsMTQuMzk4IEM4Ljc3NywxNS41MTMgOS4yMSwxNi43MDkgOS43NDksMTcuMzU5IEM5Ljg1NiwxNy40ODggOS44NzIsMTcuNiA5Ljg0LDE3LjczMSBDOS43NDEsMTguMTQxIDkuNTIsMTkuMDIzIDkuNDc3LDE5LjIwMyBDOS40MiwxOS40NCA5LjI4OCwxOS40OTEgOS4wNCwxOS4zNzYgQzcuNDA4LDE4LjYyMiA2LjM4NywxNi4yNTIgNi4zODcsMTQuMzQ5IEM2LjM4NywxMC4yNTYgOS4zODMsNi40OTcgMTUuMDIyLDYuNDk3IEMxOS41NTUsNi40OTcgMjMuMDc4LDkuNzA1IDIzLjA3OCwxMy45OTEgQzIzLjA3OCwxOC40NjMgMjAuMjM5LDIyLjA2MiAxNi4yOTcsMjIuMDYyIEMxNC45NzMsMjIuMDYyIDEzLjcyOCwyMS4zNzkgMTMuMzAyLDIwLjU3MiBDMTMuMzAyLDIwLjU3MiAxMi42NDcsMjMuMDUgMTIuNDg4LDIzLjY1NyBDMTIuMTkzLDI0Ljc4NCAxMS4zOTYsMjYuMTk2IDEwLjg2MywyNy4wNTggQzEyLjA4NiwyNy40MzQgMTMuMzg2LDI3LjYzNyAxNC43MzMsMjcuNjM3IEMyMS45NSwyNy42MzcgMjcuODAxLDIxLjgyOCAyNy44MDEsMTQuNjYyIEMyNy44MDEsNy40OTUgMjEuOTUsMS42ODYgMTQuNzMzLDEuNjg2IiBmaWxsPSIjYmQwODFjIj48L3BhdGg+PC9nPjwvc3ZnPg==&quot;) 3px 50% / 14px 14px no-repeat rgb(189, 8, 28); position: absolute; opacity: 1; z-index: 8675309; display: none; cursor: pointer; border: none; -webkit-font-smoothing: antialiased;">Save</span><div class="pac-container pac-logo" style="display: none;"></div></body></html>