<!DOCTYPE html>
<!-- saved from url=(0026)http://uat.thecrate.co.nz/ -->
<html style="" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths k-webkit k-webkit59"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="./Validation message- doesn&#39;t disappear_files/css" rel="stylesheet" type="text/css">
    <title>Home Page - The Crate</title>
   
    <link href="./Validation message- doesn&#39;t disappear_files/css(1)" rel="stylesheet" type="text/css">

    <script src="./Validation message- doesn&#39;t disappear_files/jquery-1.10.2.min.js.download"></script>
    
    
    
    
   
   
    

   
    


    <script src="./Validation message- doesn&#39;t disappear_files/modernizr-2.6.2.js.download"></script>

    
    
    <script src="./Validation message- doesn&#39;t disappear_files/jquery.validate.js.download"></script>
<script src="./Validation message- doesn&#39;t disappear_files/jquery.validate.unobtrusive.js.download"></script>

    
    <link href="./Validation message- doesn&#39;t disappear_files/app.css" rel="stylesheet">
<link href="./Validation message- doesn&#39;t disappear_files/foundation.min.css" rel="stylesheet">

    <link href="./Validation message- doesn&#39;t disappear_files/site.css" rel="stylesheet">

    <script src="./Validation message- doesn&#39;t disappear_files/foundation.min.js.download"></script>

    
    
    <script src="./Validation message- doesn&#39;t disappear_files/beehive-lib.js.download"></script>

    
    <link href="./Validation message- doesn&#39;t disappear_files/foundation-icons.css" rel="stylesheet">
    

    <script src="./Validation message- doesn&#39;t disappear_files/beehive-lib.js.download"></script>
    <script src="./Validation message- doesn&#39;t disappear_files/jquery.signalR-2.2.0.js.download"></script>
    <script src="./Validation message- doesn&#39;t disappear_files/knockout-3.4.0.js.download"></script>
    <script src="./Validation message- doesn&#39;t disappear_files/knockout.mapping-latest.js.download"></script>
    <script src="./Validation message- doesn&#39;t disappear_files/hubs"></script>
    
    <script src="./Validation message- doesn&#39;t disappear_files/notification.js.download"></script>
    
    

    <link href="./Validation message- doesn&#39;t disappear_files/kendo.custom.min.css" rel="stylesheet">
<link href="./Validation message- doesn&#39;t disappear_files/kendo.common.min.css" rel="stylesheet">

    <script src="./Validation message- doesn&#39;t disappear_files/kendo.all.min.js.download"></script>

   
<meta class="foundation-mq"></head>
<body>
    <div class="top-bar" id="top-bar-menu">
        <div class="top-bar-left">
            <ul class="menu">
                <li class="menu-text">
                    <img id="our-company-logo" src="./Validation message- doesn&#39;t disappear_files/The Crate logo V2_8de6ce67-f91f-4bac-a8fa-57ebde0bea3e_a386b83c-d634-477a-973b-231b3e8db47c.png" class="navbar-brand">
                </li>              
                <li>
                    <ul class="dropdown menu float-right" data-dropdown-menu="3xebxg-dropdown-menu" data-options="" role="menubar">

                        <li role="menuitem"><a href="http://uat.thecrate.co.nz/" tabindex="0">Dashboard</a></li>
                    </ul>
                </li>             
                <li><a href="http://uat.thecrate.co.nz/Booking">Room booking</a></li>
                <li><a href="http://uat.thecrate.co.nz/Asset/LiveAssetReport">Report Issue</a></li>           

                    <li>                       
                        <a href="http://uat.thecrate.co.nz/Notification">Message</a>
                    </li>
                    <li>
                        <ul class="dropdown menu float-right" data-dropdown-menu="5rn7w2-dropdown-menu" data-options="" role="menubar">
                            <li role="menuitem" class="has-submenu is-dropdown-submenu-parent is-down-arrow" aria-haspopup="true" aria-selected="false" aria-expanded="false" aria-label="Admin">
                                <a href="http://uat.thecrate.co.nz/#" tabindex="0">Admin</a>
                                <ul class="menu vertical submenu is-dropdown-submenu first-sub" data-submenu="" aria-hidden="true" role="menu">
                                    <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a href="http://uat.thecrate.co.nz/Admin">Settings</a></li>
                                    <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a href="http://uat.thecrate.co.nz/Account">Accounts</a></li>
                                    <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a href="http://uat.thecrate.co.nz/Account/Company">Companies</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>

                    <li>
                        <ul class="dropdown menu float-right" data-dropdown-menu="hhed58-dropdown-menu" data-options="" role="menubar">
                            <li role="menuitem" class="has-submenu is-dropdown-submenu-parent is-down-arrow" aria-haspopup="true" aria-selected="false" aria-expanded="false" aria-label="About">
                                <a href="http://uat.thecrate.co.nz/#" tabindex="0">About</a>
                                <ul class="menu submenu is-dropdown-submenu first-sub vertical" data-submenu="" aria-hidden="true" role="menu">
                                    <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a href="http://uat.thecrate.co.nz/FAQs/Tutorial">Tutorial</a></li>
                                    <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a href="http://uat.thecrate.co.nz/FAQs">FAQs</a></li>

                                        <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a href="http://uat.thecrate.co.nz/FAQs/Questions">FAQs Management</a></li>


                                </ul>
                            </li>
                        </ul>
                    </li>
            </ul>

        </div>
        <div class="top-bar-right">
            <ul class="dropdown menu" data-dropdown-menu="6qs1i8-dropdown-menu" data-options="hover : false;" role="menubar">
                <li role="menuitem" class="has-submenu is-dropdown-submenu-parent is-down-arrow" aria-haspopup="true" aria-selected="false" aria-expanded="false" aria-label="">
                    

                    <div style="position: relative; cursor: pointer;"><i class="fi-mail"></i><div id="new-msg-count" data-bind="visible: $root.getNewMsgCount() &gt; 0, text: $root.getNewMsgCount()" style="display: none;">0</div></div>
                    <ul id="notification-dropdown" class="top-bar-notifications submenu is-dropdown-submenu first-sub vertical" text:="" $root.getmsgcount()="" data-submenu="" aria-hidden="true" role="menu">

                        <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a id="read-all" href="http://uat.thecrate.co.nz/#" tabindex="0"><span data-bind="click: $root.markAllRead">Mark All as Read</span></a></li>
                        
                            
                        <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item">
                            <div style="height: 365px;">
                                <table data-bind="foreach: paginated">
                                    <tbody><tr>
                                        <td id="MsgTitle" data-bind="text: Title,
                                                            css:{ NewMsg: !IsRead()},
                                                            click: $root.goToMsg">test nipu crate</td>
                                        <td data-bind="click: $root.deleteMsg" class="fi-trash" style="float: right"></td>
                                    </tr>


                                </tbody></table>
                            </div>
                            

                            <div data-bind="if: !$root.getMsgCount() &gt; 0"></div>
                        </li>

                        <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item">
                            <div align="center">
                                <button type="button" class="button pager" data-bind="click: previous, enable: hasPrevious" disabled=""> &lt; </button>
                                <span data-bind="text: $root.pageNumber" class="pagenum" style="padding-left: 10px; padding-right: 10px;">1</span>
                                <button type="button" class="button pager" data-bind="click: next, enable: hasNext" disabled=""> &gt; </button>
                            </div>
                            
                        </li>
                    </ul>
                </li>
                <li role="menuitem" class="has-submenu is-dropdown-submenu-parent is-down-arrow" aria-haspopup="true" aria-selected="false" aria-expanded="false" aria-label="
        Hi Sonia  
    ">
    <a href="http://uat.thecrate.co.nz/#">
        Hi Sonia  <span class="caret"></span>
    </a>
    <ul class="menu vertical top-bar-logout submenu is-dropdown-submenu first-sub" data-submenu="" aria-hidden="true" role="menu">
        <li role="menuitem" class="is-submenu-item is-dropdown-submenu-item"><a style="" href="javascript:document.getElementById(&#39;logoutForm&#39;).submit()"><span class="glyphicon glyphicon-off"></span> Log Out</a></li>
    </ul>
<form action="http://uat.thecrate.co.nz/Account/LogOff" id="logoutForm" method="post"><input name="__RequestVerificationToken" type="hidden" value="yzKf7JYT3AwnDUxd4fyQnS_V09nBbz5jSP5bXUj1JMpYrmikE-f3_sm3RD3-xL96vasjxjHBNo3zG3g59puzYSflDzRd6aR0XS68xTWrXqydsgA1kj3-dUamClZi1wsU0"></form>
                </li>
            </ul>
        </div>
        <div class="reveal" id="MsgModel" data-reveal="tf81x7-reveal" role="dialog" aria-hidden="true" data-yeti-box="MsgModel" data-resize="MsgModel">
            <div data-bind="with: chosenMsgData, css: { viewMsg: true }" class="viewMsg"></div>

            <button class="close-button" data-close="" aria-label="Close modal" type="button">
                <span aria-hidden="true">×</span>
            </button>
        </div>
    </div>

        <div class="row body-content">
            






    <h2>Welcome to The Crate</h2>



    <div class="row" style="padding-bottom: 15px;">
        <div class="small-12 columns">
            <button id="sendNotificationBtn" class="button k-button" data-role="button" role="button" aria-disabled="false" tabindex="0">Send a notification</button>

        </div>
    </div>        
    
    <script>
        var sendNotificationBtn = $("#sendNotificationBtn").kendoButton({
            enable: true,
            click: onClickSendNotification
        }).data("kendoButton");

        $("#dbHeaderColorPicker").kendoColorPicker({
            value: "#000000",
            buttons: false,
        });

        var dbHeaderColorPicker = $("#dbHeaderColorPicker").data("kendoColorPicker");


        function onClickSendNotification(e) {
            sendNotificationWindow.data("kendoWindow").center().open();
        }

        $(document).on("click", ".k-overlay", function () {
            sendNotificationWindow.data("kendoWindow").close();
        });

        var sendNotificationWindow = $('#sendNotificationWindow')

        sendNotificationWindow.kendoWindow
        ({
            title: "Send Notification",
            visible: false,
            closable: true,
            width: "700px",
            modal: true,
            resizable: false,
            close: sendNotificationWindowClear,
            animation: {
                open: {
                    effects: "fade:in"
                },
                close: {
                    effects: "fade:out"
                }
            }
        });

        $("#mesage-content").kendoEditor({
            tools: [
                "bold",
                "italic",
                "underline",
                "strikethrough",
                //"justifyLeft",
                //"justifyCenter",
                //"justifyRight",
                //"justifyFull",
                "insertUnorderedList",
                "insertOrderedList",
                "indent",
                "outdent",
                //"createLink",
                "unlink",
                "subscript",
                "superscript",
                //"insertImage",
                ]
        });

        var messageEditor = $("#mesage-content").data("kendoEditor");

        function sendNotificationWindowClear (e) {
            $('#mesage-content').val('');
            reset($('#imgUpload'));
            $("#messageContentValidation").text("");
            dbHeaderColorPicker.value('#000000');
        }



    </script>


<script>

    function previewFile() {
        var preview = document.querySelector('#imgUploadPreview'); //selects the query named img
        var file = document.querySelector('input[name=imgUpload]').files[0]; //sames as here
        var reader = new FileReader();
        reader.onloadend = function () {
            preview.src = reader.result;

        };
        if (file) {
            reader.readAsDataURL(file); //reads the data as a URL

        }

    }



    window.reset = function (e) {
        e.wrap('<form>').closest('form').get(0).reset();
        e.unwrap();

        $("#imgUploadPreview").prop("src","");
    }


    //$("#cancleImage").click(function(e){
    //    $("#imgUploadPreview").prop("src","");
    //    e.wrap('<form>').closest('form').get(0).reset();
    //    e.unwrap();
    //});
    //$("#imgUpload").mouseover(function(){
    //    $("#attchImage").hide();
    //});


    $(document).ready(function () {
        var notification = {};
        var notificationType = [];
        var delivery = [];
        var UrlPath ;
        var DashboardHeader;
        var DashboardHeaderColour;






        notification.DeliveryMethod = delivery;
        notification.NotificationType = "CB";

        $("#mesage-content").on("change keyup", function(){
            $("#messageContentValidation").text("");
        });

        $("#send-notification").on("click", (function () {

            

            notification.Message = messageEditor.value();

            if(notification.Message == ""){
                $("#messageContentValidation").text("Please enter a message.");
                return;
            }

            if(notification.Message.length > 1000){
                $("#messageContentValidation").text("Message limited to 1000 characters. \nCurrent length: " + notification.Message.length + " characters. (includes markup)");
                return;
            }

            notification.DashboardHeader = $("#cbHeaderText").val();

            if(notification.DashboardHeader == ""){
                $("#headerContentValidation").text("Please enter a Header.");
                return;
            }

            notification.DashboardHeaderColour = dbHeaderColorPicker.value();
            

            var formData = new FormData();
            var file = document.getElementById("imgUpload").files[0];
            formData.append("imgUpload", file);
            //var defaultFile=new FormData();
            //var defaultNotificationfile = document.getElementById("defaultFile").files[0];
            //defaultFile.append("defaultFile", defaultNotificationfile);
            //console.log(defaultFile);

            $.ajax({
                type: "POST",
                url: "/Home/UploadCompanyLogo",
                data: formData,
                dataType: "json",
                processData: false, // tell jQuery not to process the data
                contentType: false, // tell jQuery not to set contentType
                success: function (result) {
                    if (result.Success) {
                        console.log(result.FileName);
                        notification.UrlPath = result.FileName;
                        $.ajax({
                            type: "POST",
                            url: '/Notification/CreateNotification',
                            contentType: "application/json",
                            dataType: "json",
                            data: JSON.stringify(notification),
                            success: function (data) {
                                notificationHub.server.sendNewNotification();
                                alert("message sent");
                                window.location = "/";
                            }

                        });


                    }
                    else{
                        notification.UrlPath = "noimage";
                        $.ajax({
                            type: "POST",
                            url: '/Notification/CreateNotification',
                            contentType: "application/json",
                            dataType: "json",
                            data: JSON.stringify(notification),
                            success: function (data) {
                                notificationHub.server.sendNewNotification();
                                alert("message sent");
                                window.location = "/";

                            }

                        });


                    }
                }
            });


            //notification.UrlPath = formData;

            sendNotificationWindow.data("kendoWindow").close();

            console.log(notification.UrlPath);


        })
    );


    });




</script>






<div class="row" id="cb-notification-list">
    <div class="medium-12 column">

                    <div data-bind="foreach: cbNotifications">

                        <!-- ko if: $index() < 3 -->

                            <div class="box">
                                    <div class="boxhead" data-bind="style: { backgroundColor: DashboardHeaderColour }" style="background-color: rgb(0, 0, 0);">
                                        <h5 data-bind="style: {color: darkFont ? &#39;black&#39; : &#39;white&#39; }" style="color: white;">
                                            <span data-bind="text: DashboardHeader">d</span>
                                            <span data-bind="text: CreatedOn" style="float: right;">06 Jul 2017</span>
                                        </h5>
                                        
                                    </div>
                              <div class="row">
                                    <div class="small-9 columns cbLeft" style="padding-left: 30px; padding-top: 10px;">

                                        <div id="message_marquee" data-bind="html: Message">Notepad++ 7.4.2 new featurs/enhancements &amp; bug-fixes:<br><br>1. &nbsp;Add SWIFT language support.<br>2. &nbsp;Fix replace in files regression.<br>3. &nbsp;Enhance Find Replace dialog (resizable &amp; remove search direction radio buttons).<br>4. &nbsp;Fix a crash issue while doing a column insertion on a CJK unicode document.<br>5. &nbsp;Fix repeated notification dialog for modification from outside of Notepad++.<br>6. &nbsp;Fix a visual glitchy during tab drag and drop.<br><br><br>Included plugins:<br><br>1. &nbsp;NppExport v0.2.8 (32-bit x86 only)<br>2. &nbsp;Plugin Manager 1.3.5 (32-bit x86 only)<br>3. &nbsp;Converter 4.2.1<br>4. &nbsp;Mime Tool 2.1<br><br><br>Updater (Installer only):<br><br>* WinGup v4.1<br></div>
                                    </div>

                                    <div class="small-3 columns" align="right" style="padding-right: 30px; padding-bottom: 10px;">
                                        <a data-bind="click: $root.deleteCBNotification, visible: $root.isSysAdmin" class="cbNotificationX unselectable">×</a><br>
                                            <div style="height: 200px;">
                                                <a data-bind="attr: {href: UrlPath}" target="_blank" href="./Validation message- doesn&#39;t disappear_files/logo.gif">
                                                    <img data-bind="attr: {src: UrlPath}" style="max-width: 100%; max-height: 100%;" src="./Validation message- doesn&#39;t disappear_files/logo.gif">
                                            </a></div><a data-bind="attr: {href: UrlPath}" target="_blank" href="./Validation message- doesn&#39;t disappear_files/logo.gif">
                                            
                                            
                                        </a>
                                    </div>
                                </div>
                                
                                

                                
                            </div>


                        <!-- /ko -->
                    

                        <!-- ko if: $index() < 3 -->

                            <div class="box">
                                    <div class="boxhead" data-bind="style: { backgroundColor: DashboardHeaderColour }" style="background-color: rgb(42, 213, 36);">
                                        <h5 data-bind="style: {color: darkFont ? &#39;black&#39; : &#39;white&#39; }" style="color: white;">
                                            <span data-bind="text: DashboardHeader">hi</span>
                                            <span data-bind="text: CreatedOn" style="float: right;">06 Jul 2017</span>
                                        </h5>
                                        
                                    </div>
                              <div class="row">
                                    <div class="small-9 columns cbLeft" style="padding-left: 30px; padding-top: 10px;">

                                        <div id="message_marquee" data-bind="html: Message">Hi Hi Hi</div>
                                    </div>

                                    <div class="small-3 columns" align="right" style="padding-right: 30px; padding-bottom: 10px;">
                                        <a data-bind="click: $root.deleteCBNotification, visible: $root.isSysAdmin" class="cbNotificationX unselectable">×</a><br>
                                            <div style="height: 200px;">
                                                <a data-bind="attr: {href: UrlPath}" target="_blank" href="./Validation message- doesn&#39;t disappear_files/daisy-beautiful-beauty_65a7f461-30f8-45f5-b302-7848f2e44775.jpg">
                                                    <img data-bind="attr: {src: UrlPath}" style="max-width: 100%; max-height: 100%;" src="./Validation message- doesn&#39;t disappear_files/daisy-beautiful-beauty_65a7f461-30f8-45f5-b302-7848f2e44775.jpg">
                                            </a></div><a data-bind="attr: {href: UrlPath}" target="_blank" href="./Validation message- doesn&#39;t disappear_files/daisy-beautiful-beauty_65a7f461-30f8-45f5-b302-7848f2e44775.jpg">
                                            
                                            
                                        </a>
                                    </div>
                                </div>
                                
                                

                                
                            </div>


                        <!-- /ko -->
                    

                        <!-- ko if: $index() < 3 -->

                            <div class="box">
                                    <div class="boxhead" data-bind="style: { backgroundColor: DashboardHeaderColour }" style="background-color: rgb(0, 0, 0);">
                                        <h5 data-bind="style: {color: darkFont ? &#39;black&#39; : &#39;white&#39; }" style="color: white;">
                                            <span data-bind="text: DashboardHeader">humble </span>
                                            <span data-bind="text: CreatedOn" style="float: right;">06 Jul 2017</span>
                                        </h5>
                                        
                                    </div>
                              <div class="row">
                                    <div class="small-9 columns cbLeft" style="padding-left: 30px; padding-top: 10px;">

                                        <div id="message_marquee" data-bind="html: Message">Amazing creatures</div>
                                    </div>

                                    <div class="small-3 columns" align="right" style="padding-right: 30px; padding-bottom: 10px;">
                                        <a data-bind="click: $root.deleteCBNotification, visible: $root.isSysAdmin" class="cbNotificationX unselectable">×</a><br>
                                            <div style="height: 200px;">
                                                <a data-bind="attr: {href: UrlPath}" target="_blank" href="./Validation message- doesn&#39;t disappear_files/IMG_0668_5b0df181-73e7-48ab-815b-d9622a24583f.JPG">
                                                    <img data-bind="attr: {src: UrlPath}" style="max-width: 100%; max-height: 100%;" src="./Validation message- doesn&#39;t disappear_files/IMG_0668_5b0df181-73e7-48ab-815b-d9622a24583f.JPG">
                                            </a></div><a data-bind="attr: {href: UrlPath}" target="_blank" href="./Validation message- doesn&#39;t disappear_files/IMG_0668_5b0df181-73e7-48ab-815b-d9622a24583f.JPG">
                                            
                                            
                                        </a>
                                    </div>
                                </div>
                                
                                

                                
                            </div>


                        <!-- /ko -->
                    

                        <!-- ko if: $index() < 3 --><!-- /ko -->
                    

                        <!-- ko if: $index() < 3 --><!-- /ko -->
                    

                        <!-- ko if: $index() < 3 --><!-- /ko -->
                    </div>
                </div>
            </div>


<div class="row">
    <div class="medium-12 column">
        <div class="box">
            <div id="booking-calendar" data-role="scheduler" class="k-widget k-scheduler k-floatwrap" role="grid" aria-multiselectable="true"><div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-scheduler-navigation"><li class="k-state-default k-header k-nav-today"><a role="button" href="http://uat.thecrate.co.nz/#" class="k-link">Today</a></li><li class="k-state-default k-header k-nav-prev"><a role="button" href="http://uat.thecrate.co.nz/#" class="k-link"><span class="k-icon k-i-arrow-60-left"></span></a></li><li class="k-state-default k-header k-nav-next"><a role="button" href="http://uat.thecrate.co.nz/#" class="k-link"><span class="k-icon k-i-arrow-60-right"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="http://uat.thecrate.co.nz/#" class="k-link"><span class="k-icon k-i-calendar"></span><span class="k-sm-date-format" data-bind="text: formattedShortDate">3/07/2017 - 9/07/2017</span><span class="k-lg-date-format" data-bind="text: formattedDate">Monday, 3 July 2017 - Sunday, 9 July 2017</span></a></li></ul><a role="button" data-name="undefined" href="http://uat.thecrate.co.nz/#" class="k-link k-scheduler-refresh"><span class="k-icon k-i-reload"></span></a></div><table class="k-scheduler-layout k-scheduler-weekview"><tbody><tr><td><div class="k-scheduler-times" style="display: none;"><table class="k-scheduler-table"><tbody><tr style="height: 35px;"><th>&nbsp;</th></tr><tr style="height: 784px;"><th class="k-scheduler-times-all-day">all day</th></tr></tbody></table></div></td><td><div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap"><table class="k-scheduler-table"><tbody><tr><th colspan="1" class=""><span class="k-link k-nav-day">Mon 7/03</span></th><th colspan="1" class=""><span class="k-link k-nav-day">Tue 7/04</span></th><th colspan="1" class=""><span class="k-link k-nav-day">Wed 7/05</span></th><th colspan="1" class="k-today"><span class="k-link k-nav-day">Thu 7/06</span></th><th colspan="1" class=""><span class="k-link k-nav-day">Fri 7/07</span></th><th colspan="1" class=""><span class="k-link k-nav-day">Sat 7/08</span></th><th colspan="1" class=""><span class="k-link k-nav-day">Sun 7/09</span></th></tr></tbody></table><div style="position:relative"><table class="k-scheduler-table k-scheduler-header-all-day"><tbody><tr role="row" style="height: 784px;"><td class="" role="gridcell" aria-selected="false">&nbsp;</td><td class="" role="gridcell" aria-selected="false">&nbsp;</td><td class="" role="gridcell" aria-selected="false">&nbsp;</td><td class="k-today" role="gridcell" aria-selected="false">&nbsp;</td><td class="" role="gridcell" aria-selected="false">&nbsp;</td><td class="" role="gridcell" aria-selected="false">&nbsp;</td><td class="" role="gridcell" aria-selected="false">&nbsp;</td></tr></tbody></table><div role="gridcell" aria-selected="false" data-uid="62407af3-3022-455f-b4ed-e8da3a1ce585" style="background-color: rgb(255, 0, 0); border-color: rgb(255, 0, 0); left: 502px; width: 162px; top: 0px;" class="k-event"><span class="k-event-actions"></span><div class="k-event-template"><div class="room">RoomA</div><p> 14:00-14:30</p></div><span class="k-event-actions"></span></div><div role="gridcell" aria-selected="false" data-uid="eeb8cd78-3179-4dc6-ae0a-91a74bc8afec" style="background-color: rgb(255, 254, 254); border-color: rgb(255, 254, 254); left: 502px; width: 162px; top: 98px;" class="k-event k-event-inverse"><span class="k-event-actions"></span><div class="k-event-template"><div class="room">RoomB</div><p> 14:00-14:30</p></div><span class="k-event-actions"></span></div><div role="gridcell" aria-selected="false" data-uid="252c6a9d-426d-4ee8-825c-63acb8a489b0" style="background-color: rgb(198, 26, 228); border-color: rgb(198, 26, 228); left: 502px; width: 162px; top: 196px;" class="k-event"><span class="k-event-actions"></span><div class="k-event-template"><div class="room">RoomE</div><p> 14:00-14:30</p></div><span class="k-event-actions"></span></div><div role="gridcell" aria-selected="false" data-uid="bfe07416-a88f-4247-8051-e9a841859880" style="background-color: rgb(54, 183, 248); border-color: rgb(54, 183, 248); left: 502px; width: 162px; top: 294px;" class="k-event"><span class="k-event-actions"></span><div class="k-event-template"><div class="room">RoomD</div><p> 15:00-15:30</p></div><span class="k-event-actions"></span></div><div role="gridcell" aria-selected="false" data-uid="62d5a648-041e-4401-be94-9edfed83705a" style="background-color: rgb(198, 26, 228); border-color: rgb(198, 26, 228); left: 502px; width: 162px; top: 392px;" class="k-event"><span class="k-event-actions"></span><div class="k-event-template"><div class="room">RoomE</div><p> 18:00-18:30</p></div><span class="k-event-actions"></span></div><div role="gridcell" aria-selected="false" data-uid="a88a7ba2-9315-405a-bb73-ad3133023d57" style="background-color: rgb(248, 208, 7); border-color: rgb(248, 208, 7); left: 502px; width: 162px; top: 490px;" class="k-event k-event-inverse"><span class="k-event-actions"></span><div class="k-event-template"><div class="room">RoomC</div><p> 20:00-20:30</p></div><span class="k-event-actions"></span></div><div role="gridcell" aria-selected="false" data-uid="5008e52e-74d1-49e6-bce8-74045998b138" style="background-color: rgb(198, 26, 228); border-color: rgb(198, 26, 228); left: 502px; width: 162px; top: 588px;" class="k-event"><span class="k-event-actions"></span><div class="k-event-template"><div class="room">RoomE</div><p> 20:30-21:00</p></div><span class="k-event-actions"></span></div><div role="gridcell" aria-selected="false" data-uid="405bc3da-e8f8-4dd5-ad04-4ecdbc826e37" style="background-color: rgb(255, 254, 254); border-color: rgb(255, 254, 254); left: 669px; width: 162px; top: 0px;" class="k-event k-event-inverse"><span class="k-event-actions"></span><div class="k-event-template"><div class="room">RoomB</div><p> 15:00-15:30</p></div><span class="k-event-actions"></span></div><div role="gridcell" aria-selected="false" data-uid="b29941dc-89c0-4c4f-822a-013f88cd5ec0" style="background-color: rgb(198, 26, 228); border-color: rgb(198, 26, 228); left: 669px; width: 162px; top: 98px;" class="k-event"><span class="k-event-actions"></span><div class="k-event-template"><div class="room">RoomE</div><p> 15:00-15:30</p></div><span class="k-event-actions"></span></div></div></div></div></td></tr></tbody></table></div>

        </div>
    </div>
</div>


<script>

    function deleteNotification(notificationId) {
        //if (confirm("Would you like to remove this message from your dashboard?")) {
        $.ajax({
            type: "POST",
            url: "/Notification/DeleteNotification",
            dataType: "json",
            data: { Id: notificationId },
            success: function (data) {
                //alert("Message deleted successfully");
                self.notifications.remove(notification);
                //checkNotifications();
            },
            error: function () {
                alert("Please refresh and try again.");
            }
        });
        //}
    }


    var viewModel;
    $(document).ready(function () {

        //var isResizedManually =  false;
        var today = new Date(2017, 7 - 1, 6);
        var startTime = new Date(2017, 7 - 1, 6, 7, 00);
        var endTime = new Date(2017, 7 - 1, 6, 18, 00);


        var roomDatasource = new kendo.data.DataSource({
            transport: {
                read: {
                    url: "/Asset/GetRoom",
                    dataType: "json",
                    type: "POST"
                }
            }
        });


        var template = '<div class="k-event-template">' +
                       //'<div class="title">#: title #</div>' +
                       '<div class="room">#: roomName #</div>' +
                       '<p> #: timePeriod #</p>' +
                       '</div>';

        $("#booking-calendar").kendoScheduler({
            date: today,
            workDayStart: startTime,
            workDayEnd: endTime,
            //allDaySlot: true,
            allDayEventTemplate: template,
            footer: false,
            views: [
                {type: "week",
                    title: "Your Weekly Bookings",
                    majorTick: 1440 ,
                    minorTickCount: 1}
            ],

            dataBinding: function(e) {
                var view = this.view();
                view.times.hide();
                view.timesHeader.hide();

                var scheduler = this;
                var ele = scheduler.wrapper.find(".k-scheduler-layout>tbody>tr:nth-child(2)");
                ele.remove();
                //if(!isResizedManually) {
                //    isResizedManually = true;
                //    scheduler.view().refreshLayout();
                //    $(window).trigger("resize");
                //} else {
                //    isResizedManually = false;
                //}

                $(".k-scheduler-content table.k-scheduler-table .k-middle-row td").each(function () {
                    var $tr = $(this).parent("tr");
                    var $th = $(".k-scheduler-layout").find(".k-scheduler-times").find("tr").eq($tr.index() + 2);
                    $(this).html($th.text());
                });
                $(".k-today").each(function () {
                    var currenttt = $(this).text().substr($(this).text().length - 4, 4);
                    var currentHour = $(this).text().substr(0, 2).replace(":", "");
                    //kiwi.log(kendo.toString(new Date(), "h"));
                    if (currentHour.localeCompare(kendo.toString(new Date(), "h")) == 0 && currenttt.localeCompare(kendo.toString(new Date(), "tt")) == 0) {
                        $(this).addClass("current-marker");
                    }
                });
                $(".k-scheduler-content .k-event-actions .k-icon").each(function () {
                    if ($(this).hasClass("k-i-refresh")) {
                        $(this).removeClass();
                        $(this).addClass("glyphicon glyphicon-retweet");
                    }
                });
                //console.log($("#calendar").getKendoScheduler().dataSource);
                $(".k-scheduler-content .k-event").each(function (e) {
                    var newColor = convert2Darker(rgb2hex($(this).css("background-color")).toUpperCase());
                    //$(this).css("background-color", changeColor(color, .8, false));
                    $(this).css("border", "none");
                    $(this).css("border-left", "4px solid " + newColor);
                });
            },
            dataSource: {
                batch: false,
                transport: {
                    read: {
                        url: "/Home/GetBookingCalender",
                        dataType: "json",
                        type: "POST",
                        //color:gray,
                        data: {
                            userId: 506,
                        }
                    }
                },
                schema: {
                    model: {
                        id: "Id",
                        fields: {
                            title: { from: "Title", defaultValue: "No title" },
                            start: { type: "date", from: "StartDateTime" },
                            end: { type: "date", from: "EndDateTime" },
                            isAllDay: {  type: "boolean", from: "IsAllDay" },
                            RoomId: { from: "RoomId" },
                            roomName: { from: "RoomName" },
                            OrgId: { from: "OrgId" },
                            timePeriod: {from: "TimePeriod"},
                            BookingDetail: {}
                        }
                    }
                }
            },
            editable: false,
            resources: [
          {
              field: "RoomId",
              dataValueField: "Value",
              dataColorField: "Color",
              dataSource: roomDatasource
          }]
        })


        function useDarkFont(h) {

            var r = hexToR(h);
            var g = hexToG(h);
            var b = hexToB(h);

            //rgb to luminance formula
            return ( ((0.2126*r) + (0.7152*g) + (0.0722*b)) > 200);
        };

        function hexToR(h) {return parseInt((cutHex(h)).substring(0,2),16)}
        function hexToG(h) {return parseInt((cutHex(h)).substring(2,4),16)}
        function hexToB(h) {return parseInt((cutHex(h)).substring(4,6),16)}
        function cutHex(h) {return (h.charAt(0)=="#") ? h.substring(1,7):h}



        function CBViewModel(cbnotifications){
            var self = this;

            var cbNotificationsList = ko.utils.arrayMap(cbnotifications, function (cbnotification) {

                var fuckyou = useDarkFont(cbnotification.DashboardHeaderColour + "");



                    

                return ({
                    Id: cbnotification.Id,
                    CreatedBy: cbnotification.CreatedBy,
                    Message: cbnotification.Message,
                    CreatedOn: cbnotification.CreatedOn,
                    UrlPath: cbnotification.UrlPath,
                    DashboardHeader: cbnotification.DashboardHeader,
                    DashboardHeaderColour: cbnotification.DashboardHeaderColour,
                    darkFont: fuckyou
                });


            });

            self.cbNotifications = ko.observableArray(cbNotificationsList);


            self.deleteCBNotification = function (cbNotification) {
                //if (confirm("Would you like to remove this message from your dashboard?")) {
                $.ajax({
                    type: "POST",
                    url: "/Notification/DeleteNotification",
                    dataType: "json",
                    data: { Id: cbNotification.Id },
                    success: function (data) {
                        //alert("Message deleted successfully");
                        self.cbNotifications.remove(cbNotification);
                        //checkNotifications();
                    },
                    error: function () {
                        alert("Please refresh and try again.");
                    }
                });
            }
            self.isSysAdmin = ko.observable(true);

        }

        var cbViewModel = new CBViewModel([{"Id":35359,"CreatedBy":null,"IsRead":false,"CreatedOn":"06 Jul 2017","Message":"Notepad++ 7.4.2 new featurs/enhancements \u0026amp; bug-fixes:\u003cbr /\u003e\u003cbr /\u003e1. \u0026nbsp;Add SWIFT language support.\u003cbr /\u003e2. \u0026nbsp;Fix replace in files regression.\u003cbr /\u003e3. \u0026nbsp;Enhance Find Replace dialog (resizable \u0026amp; remove search direction radio buttons).\u003cbr /\u003e4. \u0026nbsp;Fix a crash issue while doing a column insertion on a CJK unicode document.\u003cbr /\u003e5. \u0026nbsp;Fix repeated notification dialog for modification from outside of Notepad++.\u003cbr /\u003e6. \u0026nbsp;Fix a visual glitchy during tab drag and drop.\u003cbr /\u003e\u003cbr /\u003e\u003cbr /\u003eIncluded plugins:\u003cbr /\u003e\u003cbr /\u003e1. \u0026nbsp;NppExport v0.2.8 (32-bit x86 only)\u003cbr /\u003e2. \u0026nbsp;Plugin Manager 1.3.5 (32-bit x86 only)\u003cbr /\u003e3. \u0026nbsp;Converter 4.2.1\u003cbr /\u003e4. \u0026nbsp;Mime Tool 2.1\u003cbr /\u003e\u003cbr /\u003e\u003cbr /\u003eUpdater (Installer only):\u003cbr /\u003e\u003cbr /\u003e* WinGup v4.1\u003cbr /\u003e","UrlPath":"Images/logo.gif","DashboardHeader":"d","DashboardHeaderColour":"#000000"},{"Id":35358,"CreatedBy":null,"IsRead":false,"CreatedOn":"06 Jul 2017","Message":"Hi Hi Hi","UrlPath":"Media/daisy-beautiful-beauty_65a7f461-30f8-45f5-b302-7848f2e44775.jpg","DashboardHeader":"hi","DashboardHeaderColour":"#2ad524"},{"Id":35357,"CreatedBy":null,"IsRead":false,"CreatedOn":"06 Jul 2017","Message":"Amazing creatures","UrlPath":"Media/IMG_0668_5b0df181-73e7-48ab-815b-d9622a24583f.JPG","DashboardHeader":"humble ","DashboardHeaderColour":"#000000"},{"Id":35356,"CreatedBy":null,"IsRead":false,"CreatedOn":"06 Jul 2017","Message":"hi","UrlPath":"Images/logo.gif","DashboardHeader":"f","DashboardHeaderColour":"#000000"},{"Id":35283,"CreatedBy":null,"IsRead":false,"CreatedOn":"05 Jul 2017","Message":"\u003cp\u003eHave a wonderful day\u003c/p\u003e","UrlPath":"Media/IMG_0713_5f550492-3c75-4b3a-85f0-5a6d70b1f355.JPG","DashboardHeader":"Good Wishes","DashboardHeaderColour":"#000000"},{"Id":35262,"CreatedBy":null,"IsRead":false,"CreatedOn":"05 Jul 2017","Message":"\u003cstrong\u003e\u003cem\u003e\u003cspan style=\"text-decoration:underline;\"\u003eHi Hi HI\u003c/span\u003e\u003c/em\u003e\u003c/strong\u003e","UrlPath":"Images/logo.gif","DashboardHeader":"The CRATE","DashboardHeaderColour":"#df1212"}]);
        ko.applyBindings(cbViewModel, document.getElementById('cb-notification-list'));

    });

    //added by Billy
    var currentBlurb = "";
    $.ajax({
        url: '/Admin/GetBlurb',
        dataType: "json",
        success: function (data) {
            currentBlurb = data.blurb;
            console.log(currentBlurb);
            $("#current-blurb").text(currentBlurb);
        }
    });
    //-----------------------





    


    $("#scheduler").kendoScheduler({
        date: new Date(2017, 7 - 1, 6),
        startTime: new Date(2017, 7 - 1, 6, 7, 00),
        endTime:new Date(2017, 7 - 1, 6, 18, 00),
        height: 600,
        views: [

            { type: "week", selected: false ,ShowHourColumn:false},

        ],
        //timezone: "Etc/UTC",
        dataBinding: function(e) {
            var view = this.view();

            view.times.hide();
            view.timesHeader.hide();
            //view.content.hide();
        },
        dataSource: {
            batch: true,
            transport: {
                read: {
                    url:  "/Booking/%20GetBookingByOrg",
                    dataType: "json",
                    Type:"Get"
                },
                parameterMap: function(options, operation) {
                    if (operation !== "read" && options.models) {
                        return {models: kendo.stringify(options.models)};
                    }
                }
            },
            schema: {
                model: {
                    id: "Id",
                    fields: {
                        title: { from: "Title", defaultValue: "No title" },
                        start: { type: "date", from: "StartDateTime" },
                        end: { type: "date", from: "EndDateTime" },
                        description: { from: "Description" },
                        RoomId: { from: "RoomId" },
                        Media: { from: "Media", type: "string" },
                        Service: {},
                        OrgId: { from: "OrgId" },
                        BookingDetail: {}
                    }
                }
            }
        },
        resources:[
            {
                field:"RoomId",

            }
        ]

    });
</script>


<style>
    #refreshButton {
        position: absolute;
        color: white;
        right: 1rem;
        top: .5rem;
        font-size: 2em;
        line-height: 0.5;
        cursor: pointer;
    }

    .k-widget k-scheduler k-floatwrap {
        height: auto !important;
    }



    .toggle-box {
        display: none;
    }

        .toggle-box + label {
            cursor: pointer;
            display: block;
            font-weight: bold;
            line-height: 21px;
            margin-bottom: 5px;
        }

            .toggle-box + label + div {
                display: none;
                margin-bottom: 10px;
            }

        .toggle-box:checked + label + div {
            display: block;
        }

        .toggle-box + label:before {
            /*background-color: #4F5150;
                            -webkit-border-radius: 10px;
                            -moz-border-radius: 10px;
                      border-radius: 10px;*/
            color: #4F5150;
            content: "+";
            display: block;
            float: left;
            /*font-weight: bold;*/
            height: 20px;
            line-height: 20px;
            /*margin-right: 5px;*/
            text-align: center;
            width: 20px;
        }

        .toggle-box:checked + label:before {
            content: "\2212";
        }



    .k-scheduler-table td {
        min-height: 5em;
        padding: .334em .5em;
        font-size: 100%;
    }

    .k-event {
        min-height: 3em;
    }

    .k-scheduler-header-all-day td {
        height: 5.5em;
    }

    #messageContentValidation, #headerContentValidation{
        color: darkred;
        font-weight:600;
        font-size: small;
        display: inline-block;
    }

    #message_marquee{
        overflow-wrap: break-word;
    }

    #cbHeaderText {
        display: inline !important;
        height: 1em;
        margin-right: 0px;
    }
</style>

        </div><div class="k-overlay" style="display: block; z-index: 10002; opacity: 0.5;"></div><div class="k-widget k-window k-state-focused" style="padding-top: 37px; min-width: 90px; min-height: 50px; width: 700px; display: block; top: 0px; left: 318.5px; z-index: 10003; opacity: 1;" data-role="draggable"><div class="k-window-titlebar k-header" style="margin-top: -37px;">&nbsp;<span class="k-window-title" id="sendNotificationWindow_wnd_title">Send Notification</span><div class="k-window-actions"><a role="button" href="http://uat.thecrate.co.nz/#" class="k-window-action k-link" aria-label="Close"><span class="k-icon k-i-close"></span></a></div></div><div id="sendNotificationWindow" data-role="window" class="k-window-content k-content" tabindex="0" role="dialog" aria-labelledby="sendNotificationWindow_wnd_title">

        <div class="row">
            <label>Header&nbsp;&nbsp;&nbsp;</label>
            <input id="cbHeaderText" type="text">
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <label>Colour   &nbsp;</label>
            <span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker k-header" aria-disabled="false" tabindex="0" aria-label="Current selected color is #000000"><span class="k-picker-wrap k-state-default"><span class="k-selected-color" style="background-color: rgb(0, 0, 0);"><span class="k-icon k-i-line" style="display: none;"></span></span><span class="k-select" unselectable="on" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span><input id="dbHeaderColorPicker" data-role="colorpicker" style="display: none;"></span>

            <span id="headerContentValidation">Please enter a Header.</span>

        </div>

        
        <div class="row">
            <table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header k-editor-widget" role="presentation" style="width: 680px;"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" aria-controls="mesage-content" data-role="editortoolbar"><li class="k-tool-group k-button-group" role="presentation"><a tabindex="0" role="button" class="k-tool k-group-start" unselectable="on" title="Bold" aria-pressed="false"><span unselectable="on" class="k-tool-icon k-icon k-i-bold"></span><span class="k-tool-text">Bold</span></a><a tabindex="0" role="button" class="k-tool" unselectable="on" title="Italic" aria-pressed="false"><span unselectable="on" class="k-tool-icon k-icon k-i-italic"></span><span class="k-tool-text">Italic</span></a><a tabindex="0" role="button" class="k-tool" unselectable="on" title="Underline" aria-pressed="false"><span unselectable="on" class="k-tool-icon k-icon k-i-underline"></span><span class="k-tool-text">Underline</span></a><a tabindex="0" role="button" class="k-tool k-group-end" unselectable="on" title="Strikethrough" aria-pressed="false"><span unselectable="on" class="k-tool-icon k-icon k-i-strikethrough"></span><span class="k-tool-text">Strikethrough</span></a></li><li class="k-tool-group k-button-group" role="presentation"><a tabindex="0" role="button" class="k-tool k-group-start" unselectable="on" title="Insert unordered list" aria-pressed="false"><span unselectable="on" class="k-tool-icon k-icon k-i-list-unordered"></span><span class="k-tool-text">Insert unordered list</span></a><a tabindex="0" role="button" class="k-tool" unselectable="on" title="Insert ordered list" aria-pressed="false"><span unselectable="on" class="k-tool-icon k-icon k-i-list-ordered"></span><span class="k-tool-text">Insert ordered list</span></a><a tabindex="0" role="button" class="k-tool k-group-end" unselectable="on" title="Indent"><span unselectable="on" class="k-tool-icon k-icon k-i-indent-increase"></span><span class="k-tool-text">Indent</span></a><a tabindex="0" role="button" class="k-tool k-group-end k-state-disabled" unselectable="on" title="Outdent"><span unselectable="on" class="k-tool-icon k-icon k-i-indent-decrease"></span><span class="k-tool-text">Outdent</span></a></li><li class="k-tool-group k-button-group" role="presentation"><a tabindex="0" role="button" class="k-tool k-group-start k-group-end k-state-disabled" unselectable="on" title="Remove hyperlink"><span unselectable="on" class="k-tool-icon k-icon k-i-unlink-horizontal"></span><span class="k-tool-text">Remove hyperlink</span></a></li><li class="k-tool-group k-button-group" role="presentation"><a tabindex="0" role="button" class="k-tool k-group-start" unselectable="on" title="Subscript" aria-pressed="false"><span unselectable="on" class="k-tool-icon k-icon k-i-sub-script"></span><span class="k-tool-text">Subscript</span></a><a tabindex="0" role="button" class="k-tool k-group-end" unselectable="on" title="Superscript" aria-pressed="false"><span unselectable="on" class="k-tool-icon k-icon k-i-sup-script"></span><span class="k-tool-text">Superscript</span></a></li></ul></td></tr><tr><td class="k-editable-area"><iframe title="Editable area. Press F10 for toolbar." frameborder="0" class="k-content" tabindex="0" src="javascript:&quot;&quot;" kwframeid="1" src="./Validation message- doesn&#39;t disappear_files/saved_resource.html"></iframe><textarea id="mesage-content" name="mesage-content" class="form-control k-content k-raw-content" placeholder="Message content" rows="4" style="max-width: 680px; width: 680px; display: none;" data-role="editor" autocomplete="off"></textarea></td></tr></tbody></table>
            <span id="messageContentValidation">Message limited to 1000 characters. 
Current length: 1004 characters. (includes markup)</span>
        </div>

        <div class="row">
            <h6>Attach Image:</h6>
        </div>


        <div class="row">
            <img id="imgUploadPreview" style="max-width:560px; max-height:200px; cursor:pointer; display:block; margin-left: auto; margin-right: auto;" src="http://uat.thecrate.co.nz/"> <br>
            <form>
                <input type="file" id="imgUpload" name="imgUpload" accept="image/*" onchange="previewFile()" data-bind="value :Logo">
            </form>
        </div>
        
        
            
        <div class="row" style="float: right;">
            <button id="cancleImage" class="button reset" onclick="reset($(&#39;#imgUpload&#39;))">Remove image</button>
            <button id="send-notification" class="button">Send</button>
        </div>
    </div></div>
    <footer>
        <div class="row">
            <div class="small-12 columns">
                <hr>
                


<section>

    <div class="row">

                    <article class="large-3 medium-6 thumbBlock column">
                        <a href="http://890%26%26%26/" target="_blank"><img src="./Validation message- doesn&#39;t disappear_files/daisy-beautiful-beauty_92c16a52-ec9f-4aee-9705-e13f06d575af.jpg" alt="http://890&amp;&amp;&amp;" style="max-width: 200px; max-height: 55px;"></a>
                    </article>
                    <article class="large-3 medium-6 thumbBlock column">
                        <a href="http://newcompany11.com/" target="_blank"><img src="./Validation message- doesn&#39;t disappear_files/Imagefile_af628543-1eef-4fb8-9b32-64a1a64dcec7.jpeg" alt="http://newcompany11.com" style="max-width: 200px; max-height: 55px;"></a>
                    </article>
                    <article class="large-3 medium-6 thumbBlock column">
                        <a href="http://google.cm/" target="_blank"><img src="./Validation message- doesn&#39;t disappear_files/1_2e5e61c8-2712-408c-8036-d0beaaaef618.jpg" alt="http://google.cm" style="max-width: 200px; max-height: 55px;"></a>
                    </article>
                    <article class="large-3 medium-6 thumbBlock column">
                        <a href="http://fake.cpbp.co.fake/" target="_blank"><img src="./Validation message- doesn&#39;t disappear_files/custom mcdonalds burger_fcc4b3a4-3564-4801-8edc-c10b9b0ccb24.png" alt="http://fake.cpbp.co.fake" style="max-width: 200px; max-height: 55px;"></a>
                    </article>
                    <article class="large-3 medium-6 thumbBlock column">
                        <a href="http://0.0.0.45/" target="_blank"><img src="./Validation message- doesn&#39;t disappear_files/asset_1041e349-0eb1-492b-ae19-d65e8eecb9ec.JPG" alt="http://45" style="max-width: 200px; max-height: 55px;"></a>
                    </article>

    </div>
</section>

                <br>
            </div>
        </div>



        <p class="row" style="padding:0 15px">© 2017 - Powered by <a href="http://www.centralstationsoftware.co.nz/" target="_blank">Central Station Software</a></p>
    </footer>



    <script src="./Validation message- doesn&#39;t disappear_files/kendo.culture.en-NZ.min.js.download"></script>
    <script>
        $(document).foundation();
        $(document).ready(function () {
            kendo.culture("en-NZ");
            //added by Billy
            
            //---------------------------------------

        });
        alert = beehive.alert;

            $.fn.serializeObject = function () {
                var o = {};
                var a = this.serializeArray();
                $.each(a, function () {
                    if (o[this.name] !== undefined) {
                        if (!o[this.name].push) {
                            o[this.name] = [o[this.name]];
                        }
                        o[this.name].push(this.value || '');
                    }
                    else {
                        o[this.name] = this.value || '';
                    }
                });
                return o;
            };
    </script><div class="reveal-overlay" tabindex="-1" aria-hidden="true" data-close="MsgModel"></div>
    <style>
        /* add by Po for #1936 */
        .fi-mail {
            color: darkgrey;
            font-size: 1.5em;
            border: 3px solid transparent;
        }

        #notification-dropdown {
            margin: 0;
            max-height: 500px;
            padding: 10px;
            max-height: 500px;
            overflow-y: auto;
            overflow-x: hidden;
        }

            #notification-no-message li,
            #notification-dropdown li {
                list-style: none;
                width: 400px;
                padding: 0;
                margin: 0;
            }

            #notification-dropdown > li:first-child {
                text-align: right;
            }

            #notification-dropdown #read-all {
                padding-right: 10px;
            }

            #notification-dropdown > li > table {
                width: 390px;
                padding: 10px;
            }

                #notification-dropdown > li > table > tr {
                    line-height: 2em;
                }

        #read-all {
            color: cornflowerblue;
        }

        #notification-no-message {
            padding: 10px;
            position: absolute;
            left: -100px;
            min-width: 110px;
            margin: 0;
            background: #fff;
        }

            #notification-no-message li {
                width: 80px;
                margin: 0;
                text-align: center;
            }

        #new-msg-count {
            position: absolute;
            left: 10px;
            top: 0px;
            width: 22px;
            height: 22px;
            background-color: #cf0c0c;
            border: 2px solid #fff;
            color: #fff;
            border-radius: 6px;
            /* Safari 3-4, iOS 1-3.2, Android 1.6- */
            -webkit-border-radius: 6px;
            /* Firefox 1-3.6 */
            -moz-border-radius: 6px;
            line-height: 20px;
            text-align: center;
            font-size: 0.5em;
            padding: 0;
            vertical-align: middle;
            margin: 0;
            z-index: 999;
        }

        #MsgModel {
            position: fixed;
            top: 100px !important;
            margin-top: 0;
        }

        

        .viewMsg {
            padding-top: 1.5em;
        }

        .viewMsg_MsgInfo {
            background-color: #dae0e8;
            padding: 0.5em;
            border-radius: 5px;
        }

        .viewMsg_MsgInfo_P {
            margin-bottom: 0.5em;
        }

        .viewMsg_Label {
            color: #777;
            font-weight: bold;
            min-width: 2.75em;
            text-align: right;
            display: inline-block;
        }

        .viewMsg_Message {
            padding: 1em 0.5em 1em;
        }

        .NewMsg {
            font-weight: bold;
        }

            .NewMsg:after {
                content: "New";
                color: #fff;
                background-color: #cf0c0c;
                font-size: 0.6em;
                line-height: 1em;
                vertical-align: top;
                padding: 4px;
                display: inline-block;
                border-radius: 4px;
                margin-left: 4px;
            }

        #MsgTitle,
        .fi-trash {
            cursor: pointer;
        }

        .MsgPage
        {
            background-color: #EEEEEE;
            padding: 3px 25px;
            text-align: center;
            font-size: 18px;
            border-radius: 4px;
        }

        .MsgPage:disabled
        {
            opacity: 0.4;
        }

        .fi-trash {
            color: darkgray;
        }

        /* Change color of dropdown links on hover */
.dropdown-content a:hover {background-color: #000;
                           color:#fff;
}

/* Show the dropdown menu on hover */
.dropdown:hover .dropdown-content {
    display: block;
}
.is-down-arrow a {
    padding-right: 1.5rem;
    position: relative; }
 .is-down-arrow > a::after {
    content: '';
    display: block;
    width: 0;
    height: 0;
    border: inset 5px;
    border-color: #fff transparent transparent;
    border-top-style: solid;
    border-bottom-width: 0;
    position: absolute;
    top: 0.825rem;
    right: 5px; }

    </style>


<span style="border-radius: 3px; text-indent: 20px; width: auto; padding: 0px 4px 0px 0px; text-align: center; font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 11px; line-height: 20px; font-family: &quot;Helvetica Neue&quot;, Helvetica, sans-serif; color: rgb(255, 255, 255); background: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzBweCIgd2lkdGg9IjMwcHgiIHZpZXdCb3g9Ii0xIC0xIDMxIDMxIj48Zz48cGF0aCBkPSJNMjkuNDQ5LDE0LjY2MiBDMjkuNDQ5LDIyLjcyMiAyMi44NjgsMjkuMjU2IDE0Ljc1LDI5LjI1NiBDNi42MzIsMjkuMjU2IDAuMDUxLDIyLjcyMiAwLjA1MSwxNC42NjIgQzAuMDUxLDYuNjAxIDYuNjMyLDAuMDY3IDE0Ljc1LDAuMDY3IEMyMi44NjgsMC4wNjcgMjkuNDQ5LDYuNjAxIDI5LjQ0OSwxNC42NjIiIGZpbGw9IiNmZmYiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxIj48L3BhdGg+PHBhdGggZD0iTTE0LjczMywxLjY4NiBDNy41MTYsMS42ODYgMS42NjUsNy40OTUgMS42NjUsMTQuNjYyIEMxLjY2NSwyMC4xNTkgNS4xMDksMjQuODU0IDkuOTcsMjYuNzQ0IEM5Ljg1NiwyNS43MTggOS43NTMsMjQuMTQzIDEwLjAxNiwyMy4wMjIgQzEwLjI1MywyMi4wMSAxMS41NDgsMTYuNTcyIDExLjU0OCwxNi41NzIgQzExLjU0OCwxNi41NzIgMTEuMTU3LDE1Ljc5NSAxMS4xNTcsMTQuNjQ2IEMxMS4xNTcsMTIuODQyIDEyLjIxMSwxMS40OTUgMTMuNTIyLDExLjQ5NSBDMTQuNjM3LDExLjQ5NSAxNS4xNzUsMTIuMzI2IDE1LjE3NSwxMy4zMjMgQzE1LjE3NSwxNC40MzYgMTQuNDYyLDE2LjEgMTQuMDkzLDE3LjY0MyBDMTMuNzg1LDE4LjkzNSAxNC43NDUsMTkuOTg4IDE2LjAyOCwxOS45ODggQzE4LjM1MSwxOS45ODggMjAuMTM2LDE3LjU1NiAyMC4xMzYsMTQuMDQ2IEMyMC4xMzYsMTAuOTM5IDE3Ljg4OCw4Ljc2NyAxNC42NzgsOC43NjcgQzEwLjk1OSw4Ljc2NyA4Ljc3NywxMS41MzYgOC43NzcsMTQuMzk4IEM4Ljc3NywxNS41MTMgOS4yMSwxNi43MDkgOS43NDksMTcuMzU5IEM5Ljg1NiwxNy40ODggOS44NzIsMTcuNiA5Ljg0LDE3LjczMSBDOS43NDEsMTguMTQxIDkuNTIsMTkuMDIzIDkuNDc3LDE5LjIwMyBDOS40MiwxOS40NCA5LjI4OCwxOS40OTEgOS4wNCwxOS4zNzYgQzcuNDA4LDE4LjYyMiA2LjM4NywxNi4yNTIgNi4zODcsMTQuMzQ5IEM2LjM4NywxMC4yNTYgOS4zODMsNi40OTcgMTUuMDIyLDYuNDk3IEMxOS41NTUsNi40OTcgMjMuMDc4LDkuNzA1IDIzLjA3OCwxMy45OTEgQzIzLjA3OCwxOC40NjMgMjAuMjM5LDIyLjA2MiAxNi4yOTcsMjIuMDYyIEMxNC45NzMsMjIuMDYyIDEzLjcyOCwyMS4zNzkgMTMuMzAyLDIwLjU3MiBDMTMuMzAyLDIwLjU3MiAxMi42NDcsMjMuMDUgMTIuNDg4LDIzLjY1NyBDMTIuMTkzLDI0Ljc4NCAxMS4zOTYsMjYuMTk2IDEwLjg2MywyNy4wNTggQzEyLjA4NiwyNy40MzQgMTMuMzg2LDI3LjYzNyAxNC43MzMsMjcuNjM3IEMyMS45NSwyNy42MzcgMjcuODAxLDIxLjgyOCAyNy44MDEsMTQuNjYyIEMyNy44MDEsNy40OTUgMjEuOTUsMS42ODYgMTQuNzMzLDEuNjg2IiBmaWxsPSIjYmQwODFjIj48L3BhdGg+PC9nPjwvc3ZnPg==&quot;) 3px 50% / 14px 14px no-repeat rgb(189, 8, 28); position: absolute; opacity: 1; z-index: 8675309; display: none; cursor: pointer; border: none; -webkit-font-smoothing: antialiased;">Save</span></body></html>